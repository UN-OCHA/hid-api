<% include header %>
<style><% include ../assets/css/user-profile.css %></style>

<div class="api-page">
  <main role="main" id="main-content" class="cd-container">
    <div class="cd-layout-content">
      <div class="profile profile--show [ flow ]">

        <% include alert.html %>

        <h1 class="page-header__heading"><%= user.name %></h1>

        <p><strong>Given Name:</strong> <%= user.given_name %></p>
        <p><strong>Family name:</strong> <%= user.family_name %></p>
        <p><strong>Email addresses:</strong>
          <ul class="profile__emails">
            <%
              user.emails.forEach(function(email) {
                if (email.email === user.email) {
            %>
              <li class="profile__email email">
                <span class="email__address"><%= user.email %></span><br>
                <span class="email__status">Status: <em><strong>Primary</strong></em></span>
              </li>
            <% } else { %>
              <li class="profile__email email">
                <span class="email__address"><%= email.email %></span><br>
                <span class="email__status">Status: <em><%= email.validated === true ? 'confirmed' : 'not confirmed' %></em></span>
              </li>
            <%
                }
              });
            %>
          </ul>
        </p>

        <p translate><strong>Verified:</strong>
          <% if (user.email_verified) { %>
          <span translate>Yes</span>
          <%} else { %>
          <span translate>No</span>
          <% } %>
        </p>

        <div class="form-actions">
          <a href="/profile/edit" class="cd-button cd-button--bold cd-button--uppercase">Edit Profile</a>
        </div>
      </div>
    </div>
  </main>
</div>
<% include footer %>
