<%- include('includes/header') %>
<link rel="stylesheet" href="/assets/css/hid-password/hid-password.css">

<main aria-label="Page content" id="main-content" class="cd-container page--login">
  <%- include('includes/alert') %>
  <div class="cd-layout">
    <div class="cd-layout__content">
      <h1 class="cd-page-title page-header__heading">Log in</h1>

      <div class="cd-alert">
        <div role="status" aria-label="Info message">
          <svg class="cd-icon cd-icon--about" aria-hidden="true" focusable="false" width="16" height="16">
            <use xlink:href="#cd-icon--about">
              <symbol viewBox="0 0 42 42" id="cd-icon--about" xmlns="http://www.w3.org/2000/svg">
                <path d="M38 0H4a4 4 0 0 0-4 4v34a4 4 0 0 0 4 4h34a4 4 0 0 0 4-4V4a4 4 0 0 0-4-4ZM24 35h-4a2 2 0 0 1-2-2V18h4a2 2 0 0 1 2 2Zm-3-22a3 3 0 1 1 3-3 3 3 0 0 1-3 3Z"></path>
              </symbol>
            </use>
          </svg>
          <div class="cd-alert__container cd-max-width">
            After careful review, the Humanitarian ID project will be decommissioned as of 31 December 2025. Sites using Humanitarian ID have or will start to provide alternative login options.
          </div>
        </div>
      </div>

      <form method="post" action="/login" class="[ cd-flow ] t-form-login">
        <div class="form-field">
          <label for="email" translate>Email</label>
          <input type="email" name="email" id="email" placeholder="Your email address" value="<%= query.email %>" required class="t-login-email">
        </div>
        <div class="form-field">
          <label for="password"><span translate>Password</span></label>
          <input type="password" name="password" id="password" placeholder="Your password" required class="t-login-password">
          <button type="button" class="password__viz-toggle viz-toggle viz-toggle--see">
            <span class="visually-hidden">Toggle password visibility</span>
          </button>
        </div>
        <input type="hidden" name="redirect" value="<%= query.redirect %>" />
        <input type="hidden" name="client_id" value="<%= query.client_id %>" />
        <input type="hidden" name="redirect_uri" value="<%= query.redirect_uri %>" />
        <input type="hidden" name="response_type" value="<%= query.response_type %>" />
        <input type="hidden" name="state" value="<%= query.state %>" />
        <input type="hidden" name="scope" value="<%= query.scope %>" />
        <input type="hidden" name="nonce" value="<%= query.nonce %>" />
        <input type="hidden" name="crumb" value="<%= crumb %>" />
        <div class="form-field">
          <button type="submit" class="cd-button cd-button--bold cd-button--wide cd-button--uppercase t-btn--login">
            Login
          </button>
        </div>
      </form>

      <p><a href="<%= registerLink %>">Register a new Humanitarian ID Account</a></p>
      <p><a href="<%= passwordLink %>">Forgot/Reset password</a></p>
    </div>

    <div class="cd-layout__sidebar cd-layout__sidebar--first cd-layout__sidebar--wide">
      <h1 class="cd-page-title page-header__heading">What is Humanitarian ID?</h1>
      <p>Humanitarian ID is an authentication service managed by the United Nations Office for the Coordination of Humanitarian Affairs (UNOCHA).</p>
      <p>Help information is available at <a href="https://about.humanitarian.id/faqs">https://about.humanitarian.id/faqs</a></p>
    </div>
  </div>
</main>

<script src="/assets/js/password-toggle.js"></script>
<%- include('includes/footer') %>
