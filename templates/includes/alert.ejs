<% if (typeof alert !== 'undefined' && alert.type && alert.message) { %>
  <div class="cd-alert cd-alert--<%= alert.type %>">

  <%#
    If the alert is error, we want role="alert"
    If the alert is info/status/warning, we want role="status"
  %>
  <% if (alert.type === 'error') { %>
    <div role="alert">
  <% } else { %>
    <div role="status">
  <% } %>

      <%
        const icon = alert.type === 'info'
          ? 'about'
          : alert.type === 'status'
            ? 'selected'
            : alert.type === 'warning'
              ? 'alert'
              : alert.type === 'error'
                ? 'form-error'
                : false;
      %>
      <% if (icon) { %>
      <svg class="cd-icon cd-icon--<%= icon %>" aria-hidden="true" focusable="false" width="16" height="16">
        <use xlink:href="#cd-icon--<%= icon %>"></use>
      </svg>
      <% } %>

      <div class="cd-alert__container cd-max-width">
        <div class="cd-alert__title">
          <h2 class="visually-hidden"><%- alert.type %></h2>
        </div>
        <div class="cd-alert__message [ cd-flow ]">
          <%- alert.message %>
          <% if (typeof alert.error_type !== 'undefined') { %>
            <p>
              Error type: <%- alert.error_type %><br>
              Timestamp: <%- Date.now() %>
            </p>
          <% } %>
        </div>
      </div>
    </div>
  </div>
<% } %>
