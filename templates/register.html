<% include header %>

<script src="https://www.google.com/recaptcha/api.js" async defer></script>

<div class="container api-page">
  <main role="main" id="main-content" class="cd-container">
    <div class="cd-layout-content [ flow ]">
      <h1 class="page-header__heading">Register a Humanitarian ID account</h1>

      <% if (typeof alert !== 'undefined') { %>
        <div class="alert alert--inline alert--<%= alert.type %>" role="alert">
          <div class="alert__inner">
            <%= alert.message %>
          </div>
        </div>
      <% } %>

      <form name="register" action="/register" method="POST" onsubmit="return checkForm(this)" class="[ flow ]">
        <div class="form-field">
          <label for="email" translate>Email</label>
          <input type="email" name="email" id="email" value="<%= formEmail %>" placeholder="you@example.com" required>
        </div>
        <div class="form-field">
          <label for="given_name">First Name</label>
          <input type="text" name="given_name" id="given_name" value="<%= formGivenName %>" placeholder="Your first name" required>
        </div>
        <div class="form-field">
          <label for="family_name">Last Name</label>
          <input type="text" name="family_name" id="family_name" value="<%= formFamilyName %>" placeholder="Your last name" required>
        </div>
        <div class="form-field">
          <label for="password">Password</label>
          <input
            type="password"
            name="password"
            id="password"
            required
            minlength="12"
            pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()+=\\`{}]).+$"
            title="See password requirements below.">
        </div>
        <div class="form-field">
          <label for="confirm_password">Confirm password</label>
          <input
            type="password"
            name="confirm_password"
            id="confirm_password"
            required
            minlength="12"
            pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()+=\\`{}]).+$"
            title="See password requirements below.">
        </div>
        <div class="form-field">
          <p>Passwords must be at least 12 characters long and:</p>
          <ul>
            <li>Contain <strong>one number</strong></li>
            <li>Contain <strong>one uppercase character</strong></li>
            <li>Contain <strong>one lowercase character</strong></li>
            <li>Contain <strong>one special character</strong> <code>!@#$%^&*()+=\`{}</code></li>
            <li>Be different than your previous password</li>
          </ul>
        </div>
        <div class="g-recaptcha" data-sitekey="<%= recaptcha_site_key %>"></div>
        <input type="hidden" name="crumb" value="<%= crumb %>" />
        <input type="hidden" name="app_verify_url" value="<%= requestUrl %>" />
        <button type="submit" class="btn-primary">Register</button>
      </form>
    </div>
  </main>
</div>

<% include formassets %>
<% include footer %>
